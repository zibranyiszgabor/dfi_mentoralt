<form *ngIf="formGroup" [formGroup]="formGroup" class="default-form" style="border-radius: 10px; padding: 20px">
  <section class="candidate-detail-section">



    <div class="auto-container">
      <div class="dashboard-outer">
        <div class="upper-title-box">
          <h3>Profilom</h3>
          <div class="text">{{ student()?.firstName }} {{ student()?.lastName }}</div>
        </div>

        <br><br>

        <div class="row">
          <div class="col-lg-12">
            <div class="row">
              <div class="uploading-outer">
                <div class="uploadButton">

                  <input class="uploadButton-input" type="file" name="profileImage" accept="image/*" id="upload"
                    (change)="onFileSelected($event)" />

                  <!-- üì∏ Nincs √∫j √©s nincs mentett k√©p -->
                  <label *ngIf="!imagePreviewUrl && !student()?.profileImage" class="uploadButton-button ripple-effect"
                    for="upload">
                    Browse Logo
                  </label>

                  <!-- üñºÔ∏è √öjonnan kiv√°lasztott k√©p -->
                  <div class="preview-container" *ngIf="imagePreviewUrl">
                    <img [src]="imagePreviewUrl" alt="El≈ën√©zet"
                      style="max-width: 150px; max-height: 100px; object-fit: contain; border: 1px solid #ccc; cursor: pointer;"
                      (click)="resetImage()" />
                    <p style="font-size: 12px; color: #666;">Kattints a k√©p t√∂rl√©s√©hez</p>
                  </div>

                  <!-- üñºÔ∏è Mentett k√©p, ha nincs √∫j -->
                  <div class="preview-container" *ngIf="!imagePreviewUrl && student()?.profileImage">
                    <img [src]="getImageSrc(student()?.profileImage)" alt="Profilk√©p"
                      style="max-width: 150px; max-height: 100px; object-fit: contain; border: 1px solid #ccc; cursor: pointer;"
                      (click)="resetImage()" />
                    <p style="font-size: 12px; color: #666;">Kattints a k√©p t√∂rl√©s√©hez</p>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>




        <div class="ls-widget">
          <div class="tabs-box">
            <div class="widget-title">
              <h4>Fels≈ëokatat√°si tanulm√°nyok, v√©gzetts√©gek</h4>
            </div>


            <!--
            <div class="widget-content">

              <div class="sections" formArrayName="studentStudy">
                @for(studentStudy of
                getFormArray('studentStudy').controls; track
                studentStudy; let i = $index) {


              <div style="display: flex; width: 100%;">

                <app-student-study [formGroup]="getFormGroup(studentStudy)"></app-student-study>

                <span class="fa fa-trash" (click)="removeStudentStudy(i)"></span>

                <div class="form-group col-lg-12 col-md-12">

                  <button id="addStudentStudy" (click)="addStudentStudy()" class="theme-btn" style="    font-size: 20px;
                  font-weight: 500;
          background-color: rgb(231,231,230);
          border-radius: 10px;
          width: 50px !important;
          min-width: 30px;
          min-height: 30px;
          padding: 5px;">+</button>
                </div>
              </div>
                }

              </div>
            </div>
-->

            <!-- TANULM√ÅNYOK -->
            <div formArrayName="studentStudies">
              <div class="widget-content">

                <div *ngFor="let study of getStudentStudyFormArray().controls; let i = index" [formGroupName]="i">
                  <div class="row">
                    <div class="form-group col-lg-3 col-md-12">
                      <label>Fels≈ëoktat√°si int√©zm√©ny neve</label>
                      <input class="form-control" type="text" formControlName="nameOfInstitution">
                    </div>

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Szak neve</label>
                      <input class="form-control" type="text" formControlName="nameOfTraining">
                    </div>

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Szakk√©pzetts√©g, specializ√°ci√≥ stb.</label>
                      <input class="form-control" type="text" formControlName="nameOfDegree">
                    </div>

                    <div class="form-group col-lg-2 col-md-12">
                      <label>CV-n L√°that√≥</label><br>
                      <input type="checkbox" formControlName="IsVisible">
                    </div>

                    <div class="form-group col-lg-1 col-md-12">
                      <br><br>
                      <span class="fa fa-trash" (click)="removeStudentStudy(i)"></span>
                    </div>
                  </div>

                  <div class="row">

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Jogviszony kezdete</label>
                      <input type="date" name="StartDateOfLegalRelationship"
                        formControlName="StartDateOfLegalRelationship" placeholder="">
                    </div>

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Jogviszony v√©ge</label>
                      <input type="date" name="EndDateOfLegalRelationship" formControlName="EndDateOfLegalRelationship"
                        placeholder="">
                    </div>
                  </div>
                </div>

                <div class="form-group col-lg-12 col-md-12">

                  <button type="button" id="addStudentStudy" (click)="addStudentStudy()" class="theme-btn" style=" font-size: 20px;
font-weight: 500;
background-color: rgb(231,231,230);
border-radius: 10px;
width: 50px !important;
min-width: 30px;
min-height: 30px;
padding: 5px;">+</button>
                </div>
              </div>
            </div>
            <!-- TANULM√ÅNYOK V√âGE -->
          </div>
        </div>

        <!-- NYELVISMERET -->
        <div class="ls-widget">
          <div class="tabs-box">
            <div class="widget-title">
              <h4>Nyelvismeret</h4>
            </div>
            <div formArrayName="languageSkills">
              <div class="widget-content">
                <div *ngFor="let lang of getStudentLanguageSkillFormArray().controls; let i = index"
                  [formGroupName]="i">
                  <div class="row">

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Nyelv</label>
                      <select formControlName="languageExamLangDictId" class="form-control">
                        <option *ngFor="let item of languageExamLanguages()" [value]="item.dictionaryId">
                          {{ item.name_HU }}
                        </option>
                      </select>
                    </div>

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Nyelvvizsga szint</label>
                      <select formControlName="languageExamLevelDictId" class="form-control">
                        <option *ngFor="let item of languageExamLevels()" [value]="item.dictionaryId">
                          {{ item.name_HU }}
                        </option>
                      </select>
                    </div>

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Nyelvvizsga t√≠pusa</label>
                      <select formControlName="languageExamTypeDictId" class="form-control">
                        <option *ngFor="let item of languageExamTypes()" [value]="item.dictionaryId">
                          {{ item.name_HU }}
                        </option>
                      </select>
                    </div>

                    <div class="form-group col-lg-2 col-md-12">
                      <label>CV-n L√°that√≥</label><br>
                      <input type="checkbox" formControlName="IsVisible">
                    </div>

                    <div class="form-group col-lg-1 col-md-12">
                      <br><br>
                      <span class="fa fa-trash" (click)="removeStudentLanguageSkill(i)"></span>
                    </div>

                  </div>

                </div>

                <div class="form-group col-lg-12 col-md-12">

                  <button type="button" id="addStudentLanguageSkill" (click)="addStudentLanguageSkill()"
                    class="theme-btn" style=" font-size: 20px;
    font-weight: 500;
    background-color: rgb(231,231,230);
    border-radius: 10px;
    width: 50px !important;
    min-width: 30px;
    min-height: 30px;
    padding: 5px;">+</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- NYELVISMERET V√âGE-->


        <!-- Skills -->

        <div class="ls-widget">
          <div class="tabs-box">
            <div class="widget-title">
              <h4>Vezet≈ëi enged√©ly</h4>
            </div>
            <div formArrayName="studentSkills">
              <div class="widget-content">
                <div *ngFor="let lang of getStudentSkillFormArray().controls; let i = index" [formGroupName]="i">
                  <div class="row">

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Vezet≈ëi enged√©ly(ek) kateg√≥ria</label>
                      <select [disabled]="!isDrivingLicence(i)" formControlName="dictionaryId" class="form-control">
                        <option *ngFor="let item of drivingLicences()" [value]="item.dictionaryId">
                          {{ item.name_HU }}
                        </option>
                      </select>
                    </div>

                    <div class="form-group col-lg-2 col-md-12">
                      <label>CV-n L√°that√≥</label><br>
                      <input type="checkbox" formControlName="IsVisible">
                    </div>

                    <div class="form-group col-lg-1 col-md-12">
                      <br><br>
                      <span class="fa fa-trash" (click)="removeStudentSkill(i)"></span>
                    </div>


                  </div>

                </div>
                <div class="form-group col-lg-1 col-md-12">

                  <button type="button" id="addStudentSkill" (click)="addStudentSkill()" class="theme-btn"
                    style=" font-size: 20px;
font-weight: 500;
background-color: rgb(231,231,230);
border-radius: 10px;
width: 50px !important;
min-width: 30px;
min-height: 30px;
padding: 5px;">+</button>
                </div>

              </div>
            </div>
          </div>
        </div>


        <!-- Munkatapasztalat -->

        <div class="ls-widget">
          <div class="tabs-box">
            <div class="widget-title">
              <h4>Munkatapasztalat</h4>
            </div>
            <div formArrayName="workExperiences">
              <div class="widget-content">
                <div *ngFor="let workexp of getStudentWorkExperienceFormArray().controls; let i = index"
                  [formGroupName]="i">
                  <div class="row">

                    <div class="form-group col-lg-6 col-md-12">
                      <label>Szakter√ºleti kateg√≥ria</label>
                      <select formControlName="sectorCategoryId" class="form-control">
                        <option *ngFor="let item of sectors()" [value]="item.dictionaryId">
                          {{ item.name_HU }}
                        </option>
                      </select>
                    </div>

                    <div class="form-group col-lg-6 col-md-12">
                      <label>Munkahely neve</label>
                      <input class="form-control" type="text" formControlName="workplaceName">
                    </div>

                    <div class="form-group col-lg-2 col-md-12">
                      <label>Munkav√©gz√©s kezdete</label>
                      <input type="date" name="workStartDate" formControlName="workStartDate" placeholder="">
                    </div>

                    <div class="form-group col-lg-2 col-md-12">
                      <label>Munkav√©gz√©s v√©ge</label>
                      <input type="date" name="workEndDate" formControlName="workEndDate" placeholder="">
                    </div>

                    <div class="form-group col-lg-3 col-md-12">
                      <label>Munkak√∂r</label>
                      <input class="form-control" type="text" formControlName="positionTitle">
                    </div>

                    <div class="form-group col-lg-2 col-md-12">
                      <label>CV-n L√°that√≥</label><br>
                      <input type="checkbox" formControlName="IsVisible">
                    </div>

                    <div class="form-group col-lg-1 col-md-12">
                      <br><br>
                      <span class="fa fa-trash" (click)="removeStudentWorkExperience(i)"></span>
                    </div>
                  </div>

                  <hr class="hr-divider" />

                </div>

                <div class="form-group col-lg-12 col-md-12">
                  <button type="button" id="addStudentWorkExperience" (click)="addStudentWorkExperience()"
                    class="theme-btn" style=" font-size: 20px;
    font-weight: 500;
    background-color: rgb(231,231,230);
    border-radius: 10px;
    width: 50px !important;
    min-width: 30px;
    min-height: 30px;
    padding: 5px;">+</button>
                </div>
              </div>
            </div>
          </div>
        </div>



        <!-- V√âGE Munkatapasztalat -->


        <!-- Munkav√©gz√©ssel kapcsolatos preferenci√°k ELEJE -->

        <div class="ls-widget">
          <div class="tabs-box">
            <div class="widget-title">
              <h4>Munkav√©gz√©ssel kapcsolatos preferenci√°k</h4>
            </div>

            <div class="widget-content">

              <div formArrayName="studentPreferences">
                <div class="row">


                  <div class="form-group col-lg-3 col-md-12">
                    <label>Munka jellege</label>
                    <select formControlName="natureOfWorks" class="form-control" multiple>
                      <option *ngFor="let item of natureOfWorks()" [value]="item.dictionaryId">
                        {{ item.name_HU }}
                      </option>
                    </select>
                  </div>

                  <div class="form-group col-lg-3 col-md-12">
                    <label>Foglalkoztat√°s t√≠pusa</label>
                    <select formControlName="employmentTypes" class="form-control" multiple>
                      <option *ngFor="let item of employmentTypes()" [value]="item.dictionaryId">
                        {{ item.name_HU }}
                      </option>
                    </select>
                  </div>

                  <div class="form-group col-lg-3 col-md-12">
                    <label>Munkav√©gz√©s ideje</label>
                    <select formControlName="TimeOfWorks" class="form-control" multiple>
                      <option *ngFor="let item of timeOfWorks()" [value]="item.dictionaryId">
                        {{ item.name_HU }}
                      </option>
                    </select>
                  </div>

                  <div class="form-group col-lg-3 col-md-12">
                    <label>Munkav√©gz√©s helye</label>
                    <select formControlName="PlaceOfWorks" class="form-control" multiple>
                      <option *ngFor="let item of placeOfWorks()" [value]="item.dictionaryId">
                        {{ item.name_HU }}
                      </option>
                    </select>
                  </div>

                  <div class="form-group col-lg-3 col-md-12">
                    <label>Munka nyelve</label>
                    <select formControlName="LanguageOfWorks" class="form-control" multiple>
                      <option *ngFor="let item of languageOfWorks()" [value]="item.dictionaryId">
                        {{ item.name_HU }}
                      </option>
                    </select>
                  </div>


                </div>
              </div>
            </div>

          </div>
        </div>


        <!-- Munkav√©gz√©ssel kapcsolatos preferenci√°k V√âGE -->


        <!-- R√ìLAM -->
        <div class="ls-widget">
          <div class="tabs-box">
            <div class="widget-title">
              <h4>R√≥lam</h4>
            </div>
            <div class="widget-content">
              <div class="row">
                <div class="form-group col-lg-12 col-md-12">
                  <textarea id="aboutMe" formControlName="aboutMe" rows="5" class="form-control"></textarea>
                </div>
              </div>
              
              <div class="form-group col-lg-2 col-md-12 d-flex align-items-center">
                <input id="aboutMeIsVisible" type="checkbox" formControlName="aboutMeIsVisible" class="me-2">
                <label class="mb-0">CV-n L√°that√≥</label>
              </div>

            </div>

            <div class="widget-title">
              <h4>Szem√©lyes √©rdekl≈ëd√©s</h4>
            </div>
            <div class="widget-content">
              <div class="row">
                <div class="form-group col-lg-12 col-md-12">
                  <input type="text" formControlName="personalInterest" id="personalInterest" />
                </div>
              </div>

              <div class="form-group col-lg-2 col-md-12 d-flex align-items-center">
                <input id="personalInterestIsVisible" type="checkbox" formControlName="personalInterestIsVisible" class="me-2">
                <label class="mb-0">CV-n L√°that√≥</label>
              </div>
            </div>

            <div class="widget-title">
              <h4>linkedIn</h4>
            </div>
            <div class="widget-content">
              <div class="row">
                <div class="form-group col-lg-12 col-md-12">
                  <input type="text" formControlName="linkedIn" id="linkedIn" />
                </div>
              </div>

              <div class="form-group col-lg-2 col-md-12 d-flex align-items-center">
                <input id="linkedInIsVisible" type="checkbox" formControlName="linkedInIsVisible" class="me-2">
                <label class="mb-0">CV-n L√°that√≥</label>
              </div>
            </div>


          </div>
        </div>
        <!-- R√ìLAM -->


        <div class="row">
          <div class="widget-content">
            <div style="margin-top: 10px">
              <button type="button" (click)="save()" class="theme-btn btn-style-one w-100">Ment√©s</button>
              &NonBreakingSpace;
              <button type="button" (click)="cancel()" class="theme-btn btn-style-one w-100">M√©gsem</button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- End Dashboard -->
  </section>
</form>